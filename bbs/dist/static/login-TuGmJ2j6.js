import{S as g,_,r as u,o as p,c as m,b as o,t as f,w as c,j as d,k as v,h,V as k,i as w}from"./require-yw0ryhkJ.js";function b(t,e){return g.post("api/login/user",{username:t,password:e})}const x={name:"Login",setup(){const t=u(""),e=u(""),i=u("");function n(){b(t.value,e.value).then(function(s){if(console.log(s),s.msg=="login_success"){let a=s.name,l=s.token;s.type,console.log(a,l),localStorage.setItem("username",a),localStorage.setItem("authorization",l),window.location="/"}i.value=s.msg}).catch(function(s){i.value=s.message,console.log(s)})}return{user_name:t,password:e,msg:i,login_users:n}}},V={class:"login"},S={class:"login__header"},y=o("h2",null,[o("svg",{class:"icon"},[o("use",{"xlink:href":"#icon-lock"})]),v("登录 ")],-1),B={class:"login__form"},C=o("label",{for:"email"},"用户名",-1),z=o("label",{for:"password"},"密码",-1),D=o("div",null,[o("a",{href:"/register/"},[o("button",null,"注册")])],-1);function I(t,e,i,n,s,a){return p(),m("div",V,[o("header",S,[y,o("h3",null,f(n.msg),1)]),o("div",B,[o("div",null,[C,c(o("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>n.user_name=l),type:"text",name:"user_name",placeholder:"用户名"},null,512),[[d,n.user_name]])]),o("div",null,[z,c(o("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>n.password=l),type:"password",name:"password",placeholder:"密码"},null,512),[[d,n.password]])]),o("div",null,[o("button",{onClick:e[2]||(e[2]=l=>n.login_users())},"登录")]),D,o("div",null,[o("button",{onClick:e[3]||(e[3]=l=>n.login_users())},"管理员登录")])])])}const N=_(x,[["render",I]]),r=h(N);r.config.globalProperties.$axios=g;r.config.globalProperties.$cookies=k;r.use(w);r.mount("#app");
