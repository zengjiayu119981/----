import{S as g,_ as m,r as u,o as _,a as f,b as e,t as v,w as c,l as d,m as h,j as k,V as w,k as b}from"./require-cChogJhe.js";function x(t,o){return g.post("api/login/user",{username:t,password:o})}const y={name:"Login",setup(){const t=u(""),o=u(""),i=u("");function n(){x(t.value,o.value).then(function(s){if(console.log(s),s.msg=="login_success"){let r=s.name,l=s.token,p=s.type;console.log(r,l),localStorage.setItem("username",r),localStorage.setItem("authorization",l),localStorage.setItem("type",p),window.location="/"}i.value=s.msg}).catch(function(s){i.value=s.message,console.log(s)})}return{user_name:t,password:o,msg:i,login_users:n}}},S={class:"login"},V={class:"login__header"},B=e("h2",null,[e("svg",{class:"icon"},[e("use",{"xlink:href":"#icon-lock"})]),h("登录 ")],-1),C={class:"login__form"},I=e("label",{for:"email"},"用户名",-1),z=e("label",{for:"password"},"密码",-1),D=e("div",null,[e("a",{href:"/register/"},[e("button",null,"注册")])],-1);function N(t,o,i,n,s,r){return _(),f("div",S,[e("header",V,[B,e("h3",null,v(n.msg),1)]),e("div",C,[e("div",null,[I,c(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>n.user_name=l),type:"text",name:"user_name",placeholder:"用户名"},null,512),[[d,n.user_name]])]),e("div",null,[z,c(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>n.password=l),type:"password",name:"password",placeholder:"密码"},null,512),[[d,n.password]])]),e("div",null,[e("button",{onClick:o[2]||(o[2]=l=>n.login_users())},"登录")]),D,e("div",null,[e("button",{onClick:o[3]||(o[3]=l=>n.login_users())},"管理员登录")])])])}const P=m(y,[["render",N]]),a=k(P);a.config.globalProperties.$axios=g;a.config.globalProperties.$cookies=w;a.use(b);a.mount("#app");
